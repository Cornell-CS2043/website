<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="CS 2043">
  <meta name="author" content="">


  <title>CS 2043 &mdash; Assignment Information</title>


  


<!-- Bootstrap core (v4.1.3) CSS, hosting courtesy of BootstrapCDN: https://www.bootstrapcdn.com/ -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<!-- Load in custom styling after bootstrap. -->
<link rel="stylesheet" href="/courses/cs2043/2019sp/css/main.css">
<!-- Bring in the syntax highlighting last -->


  
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
<link rel="stylesheet" href="/courses/cs2043/2019sp/css/jekyll-pygments-themes/monokai.css">
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  



  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

  <body role="document">
    <div class="container" role="main">
      <!-- See customization options here: https://getbootstrap.com/docs/4.0/components/navbar/ -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="navbar">
  <div class="container"> 
  
  <a class="navbar-brand " href="/courses/cs2043/2019sp/">CS 2043</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
      
      
        
        
        <li class="nav-item">
          <a class="nav-link" href="/courses/cs2043/2019sp/schedule.html">
            Schedule
          </a>
        </li>
      
        
        
        <li class="nav-item">
          <a class="nav-link" href="/courses/cs2043/2019sp/syllabus.html">
            Syllabus
          </a>
        </li>
      
        
        
        <li class="nav-item">
          <a class="nav-link" href="/courses/cs2043/2019sp/command_index.html">
            Command Index
          </a>
        </li>
      
        
        
        <li class="nav-item">
          <a class="nav-link" href="/courses/cs2043/2019sp/staff.html">
            Staff
          </a>
        </li>
      
        
        
        <li class="nav-item active">
          <a class="nav-link" href="/courses/cs2043/2019sp/assignments.html">
            Assignments
          </a>
        </li>
      
        
        
        <li class="nav-item">
          <a class="nav-link" href="/courses/cs2043/2019sp/calendar.html">
            Calendar
          </a>
        </li>
      
    
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          External
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        
          
          
          
          
          <a class="dropdown-item" href="https://www.piazza.com/cornell/spring2019/cs2043">Piazza</a>
        
          
          
          
          
          <a class="dropdown-item" href="https://wash.cs.cornell.edu">Course Server</a>
        
        </div>
      </li>
    
    </ul>
  </div> 
  </div><!-- /div id=navbarSupportedContent -->
</nav>

	  <h1 id="header"></h1>
      <h2 id="older-assignments"><a href="/courses/cs2043/2019sp/old_assignments.html">Older assignments</a></h2>

<h3 id="cs-2043--assignment-5-create-a-google-cloud-vm">CS 2043  Assignment 5: Create a Google Cloud VM</h3>

<h4 id="due-date-monday-march-4-at-1115-am">Due Date: Monday March 4 at 11:15 am</h4>

<h4 id="assignment-captain-ted-bauer">Assignment Captain: <a href="staff.html">Ted Bauer</a></h4>

<p>In this assignment, you’ll launch a virtual machine on one of Google’s fancy computers, and then you’ll communicate with it from Wash using some networking commands. In Assignment 6, you’ll build off of this setup, so make sure you follow the instructions carefully!</p>

<h4 id="part-1-set-up-a-vm-on-google-cloud">Part 1: set up a VM on Google Cloud.</h4>

<ol>
  <li>Navigate to <a href="https://console.cloud.google.com"> https://console.cloud.google.com</a>, and login with your Cornell Google account. The screen you’ll see is a general hub where you can manage the Google Cloud projects you’re working on.</li>
  <li>In the sidebar on the left, click the button that says “Compute Engine”, which should bring up another menu; click “VM instances.” (See Figure 1.)</li>
  <li>You’ll likely need to set up a free trial for Google Cloud at this point. You can sign up for a free trial that will last a year, and provide you with $300 of credit (this will fund the computers that run your VMs). After A6 (the next assignment), you’ll probably want to cancel the trial so you don’t forget about it and get billed! We’ll remind you at the end of this writeup, and also at the end of A6.</li>
  <li>Next, click “Create Instance”.</li>
  <li>You should now be on a screen with details about your VM instance. You can name this instance anything you like. Check the boxes that say “Allow HTTP traffic” and “Allow HTTPS traffic”. This is important for Assignment 6, so don’t forget this! You can leave everything else as-is. (See Figure 2.)</li>
  <li>Click “Create” and you’ll be brought to a table of your active VMs. It might take a few seconds for your VM to start up, but once it does, you’ll have your very own VM running on Google’s servers.</li>
</ol>

<p><img src="img/vm1.png" width="300px" />  <br /> 
<i> <code class="highlighter-rouge">Figure 1</code> </i> <br /> <br />
<img src="img/vm2.png" width="350px" /> <br /> 
<i> <code class="highlighter-rouge">Figure 2</code> </i> <br /></p>

<h4 id="part-2-connect-to-your-vm">Part 2: connect to your VM</h4>

<p>In the table of your active VMs, under the “Connect” column, click “SSH” (See Figure 3). A window should appear that looks like a computer terminal. You can use this terminal to interact with your VM.</p>

<p><img src="img/vm3.png" width="350px" /> <br /> 
<i> <code class="highlighter-rouge">Figure 3</code> </i> <br /></p>

<h4 id="part-3-install-networking-commands">Part 3: install networking commands.</h4>

<p>We’ll need to install a couple of commands on your VM that are often available pre-installed on many Unix systems. They’re called ifconfig and netcat; install them by typing <code class="highlighter-rouge">sudo apt-get install net-tools</code> and <code class="highlighter-rouge">sudo apt-get install netcat</code> into the web-terminal. (Type ‘Y’ for ‘Yes’ when prompted.)</p>

<h4 id="part-4-find-the-ip-address-of-your-vm">Part 4: find the IP address of your VM.</h4>

<p>You can find the IP address of your VM by navigating to the list of your VM instances, and finding the entry under “External IP”. See Figure 4:</p>

<p><img src="img/vm4.png" width="350px" /> <br /> 
<i> <code class="highlighter-rouge">Figure 4</code> </i> <br /></p>

<h4 id="part-5-modify-the-firewall-for-your-vm">Part 5: modify the firewall for your VM.</h4>

<p>In order to communicate between Wash and the VM, we’ll need to open a port on the VM. For this assignment, we’re going to open port 3389. On the Google Cloud Platform, you can do this by following these steps:</p>
<ol>
  <li>In the sidebar, under the “Networking” section, navigate to VPC network -&gt; Firewall rules.</li>
  <li>Click “Create Firewall Rule.”</li>
  <li>Make sure the settings look something like this (see Figure 5):
    <ul>
      <li>Set “Name” to something like “a5-rule.”</li>
      <li>Set “Network” to “default”.</li>
      <li>Set “Direction” to “Ingress”.</li>
      <li>Set “Targets” to “All instances in the network”.</li>
      <li>Set “Source filter” to “IP ranges”.</li>
      <li>Set “Source IP ranges” to “0.0.0.0/0”.</li>
      <li>Under “Protocols and ports”, check “tcp” and specify the port to be 3389.</li>
    </ul>
  </li>
</ol>

<p><img src="img/vm5.png" width="300px" /> <br /> 
<i> <code class="highlighter-rouge">Figure 5</code> </i> <br /></p>

<h4 id="part-6-wait-for-a-connection-on-the-vm">Part 6: wait for a connection on the VM.</h4>

<p>For this part of the assignment, you’ll set up the VM to listen for a connection from Wash. You’ll send the output of running ifconfig to Wash; to receive credit for the assignment, make sure you follow this step carefully! In the web-terminal for your Google VM, pipe the output of sudo ifconfig to netcat -p 3389 -l -q 0. This will make your VM listen for connections on port 3389, and will send the output of sudo ifconfig to devices that connect. (The -q 0 makes it a bit easier to end the netcat connection when you do step 7, but it’s not important; don’t worry about it.)</p>

<h4 id="part-7-turn-in-your-assignment-with-check-vm">Part 7: turn in your assignment with <code class="highlighter-rouge">check-vm</code>!</h4>

<p>Now, you’ll receive the VM’s output of sudo ifconfig on Wash, and turn it in! We’ve provided you with a command check-vm. It will connect to your VM (which should be waiting for such a connection if you followed step 5) and turn in the output. Invoke it by typing check-vm hostname port, where hostname is the IP address you found in step (4), and port is 3389.</p>
<ul>
  <li>If you run the command and it outputs “check-vm succeeded! You’ve successfully turned in A5.”,you’re done! Good work.</li>
  <li>Otherwise, you’ll see “check-vm failed: could not communicate with VM. Please troubleshoot.”, or something similar. You’ll need to do some troubleshooting. Make sure you followed all of the steps carefully! You can run check-vm as many times as you want, but each time you’ll need to do step (6) again: the VM needs to be listening for connections.</li>
</ul>

<h4 id="part-8-remember-to-eventually-cancel-your-free-trial">Part 8: remember to eventually cancel your free trial!</h4>

<p>Don’t forget: after you finish the assignment after this one (i.e. after you finish A6), cancel your free trial so you don’t get billed!</p>


      <div id="footer">
  <hr>
  <div class="pull-left">
    <strong>Matthew Milano, Stephen McDowell, Ashneel Das, Henry Zheng</strong>
    (<a href="mailto:cs2043-ta@cornell.edu?subject=[CS 2043]">cs2043-ta@cornell.edu</a>).
  </div>
  <div class="pull-right">
    Last compiled Sat, 02 Mar 2019 11:01:06 -0500.
  </div>
</div>

    </div>
    <!-- /.container theme-showcase -->
    <!-- https://getbootstrap.com/docs/4.1/getting-started/introduction/ -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>



<!-- Enable the tool-tips everywhere -->
<script type="text/javascript">
  $(function () {
    $('[data-toggle="tooltip"]').tooltip()
  });
</script>
<script type="text/javascript">
  var i = 0;
  var txt = 'Assignment Information';
  var speed = 60;
  let hasBlinker = true;
  document.getElementById("header").innerHTML = "|";
  function typeWriter() {
    if (i < txt.length) {
      let x = document.getElementById("header");
      let len = x.innerHTML.length;
      x.innerHTML = x.innerHTML.substring(0, len - 1) + txt.charAt(i) + "|";
      i++;
      setTimeout(typeWriter, speed);
    }
    let x = document.getElementById("header");
  }

  function blink() {
    let x = document.getElementById("header");
    let len = x.innerHTML.length;
    if (x.innerHTML.includes('Assignment Information')) {
      if (hasBlinker) {
        x.innerHTML = x.innerHTML.substring(0, len - 1);
        hasBlinker = false;
      }
      else {
        x.innerHTML += "|";
        hasBlinker = true;
      }
    }
  }

  typeWriter();
  setInterval(blink, 500); 
</script>

    
  </body>
</html>
